{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Enhanced Python",
  "scopeName": "source.python.enhanced",
  "patterns": [
    {
      "include": "#naming-conventions"
    },
    {
      "include": "#library-functions"
    },
    {
      "include": "#numpy-functions"
    },
    {
      "include": "#pandas-functions"
    }
  ],
  "repository": {
    "naming-conventions": {
      "patterns": [
        {
          "name": "variable.pascalcase.python",
          "match": "\\b([A-Z][a-zA-Z0-9]*[a-z][a-zA-Z0-9]*[A-Z][a-zA-Z0-9]*)\\b",
          "comment": "PascalCase identifiers (e.g., MyClass, SomeVariable)"
        },
        {
          "name": "variable.camelcase.python",
          "match": "\\b([a-z][a-zA-Z0-9]*[A-Z][a-zA-Z0-9]*)\\b",
          "comment": "camelCase identifiers (e.g., myVariable, someFunction)"
        }
      ]
    },
    "library-functions": {
      "patterns": [
        {
          "name": "support.function.library.python",
          "match": "\\b(plt|matplotlib|sk|sklearn|tf|tensorflow|torch|pytorch)\\s*\\.\\s*([a-zA-Z_][a-zA-Z0-9_]*)\\s*(?=\\()",
          "captures": {
            "1": {
              "name": "support.module.library.python"
            },
            "2": {
              "name": "support.function.library.python"
            }
          },
          "comment": "Other library function calls (excluding numpy/pandas)"
        }
      ]
    },
    "numpy-functions": {
      "patterns": [
        {
          "match": "\\b(np|numpy|npy|nx|num|nparray|array_lib)\\s*\\.\\s*([a-zA-Z_][a-zA-Z0-9_]*(?:\\.[a-zA-Z_][a-zA-Z0-9_]*)*)\\s*(?=\\()",
          "captures": {
            "1": {
              "name": "support.module.numpy.python"
            },
            "2": {
              "name": "support.function.numpy.python"
            }
          },
          "comment": "NumPy module function calls (including common aliases)"
        },
        {
          "name": "support.function.numpy.python",
          "match": "\\b(array|zeros|ones|empty|eye|arange|linspace|logspace|meshgrid|concatenate|stack|hstack|vstack|split|hsplit|vsplit|reshape|flatten|ravel|transpose|swapaxes|dot|matmul|cross|sum|mean|median|std|var|min|max|argmin|argmax|sort|argsort|where|clip|abs|sqrt|exp|log|sin|cos|tan|arcsin|arccos|arctan|sinh|cosh|tanh|floor|ceil|round|random|seed|normal|uniform|choice|shuffle|permutation)\\s*(?=\\()",
          "comment": "Direct NumPy function imports"
        }
      ]
    },
    "pandas-functions": {
      "patterns": [
        {
          "match": "\\b(pd|pandas|pds|dataframes|df_lib|data)\\s*\\.\\s*([a-zA-Z_][a-zA-Z0-9_]*(?:\\.[a-zA-Z_][a-zA-Z0-9_]*)*)\\s*(?=\\()",
          "captures": {
            "1": {
              "name": "support.module.pandas.python"
            },
            "2": {
              "name": "support.function.pandas.python"
            }
          },
          "comment": "Pandas module function calls (including nested)"
        },
        {
          "match": "\\b(pd|pandas|pds|dataframes|df_lib|data)\\s*\\.\\s*(DataFrame|Series|Index|Panel|TimeSeries|Categorical|Timestamp|Timedelta|Period|Interval)\\b",
          "captures": {
            "1": {
              "name": "support.module.pandas.python"
            },
            "2": {
              "name": "support.class.pandas.python"
            }
          },
          "comment": "Pandas class constructors"
        },
        {
          "name": "support.function.pandas.python",
          "match": "\\b(read_csv|read_json|read_excel|read_sql|to_csv|to_json|to_excel|to_sql|head|tail|info|describe|isnull|isna|notnull|notna|fillna|dropna|drop_duplicates|duplicated|sort_values|sort_index|groupby|merge|join|concat|pivot|pivot_table|melt|cut|qcut|get_dummies|apply|map|applymap|agg|aggregate|transform|filter|query|sample|nlargest|nsmallest|corr|cov|rolling|expanding|resample)\\s*(?=\\()",
          "comment": "Direct Pandas function imports"
        },
        {
          "name": "support.function.pandas.python",
          "match": "\\b(is_nan|is_null|not_null)\\s*(?=\\()",
          "comment": "Pandas function aliases"
        }
      ]
    }
  }
} 